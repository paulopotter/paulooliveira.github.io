<!DOCTYPE html>

<html class="theme--light" lang="pt-br">
<head>
<meta charset="utf-8"/>
<title>Criando sua primeira APP para Smart TVs (Parte 2) - Um dev qualquer || Paulo Oliveira

 </title>
<link href="./favicon.png" rel="icon"/>
<link href="https://www.google-analytics.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/" rel="preconnect"/>
<meta content="Blog pessoal onde mostro um pouco do meu aprendizado." name="description"/>
<meta content="Paulo Oliveira" name="author"/>
<meta content="noimageindex" name="robots"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="#32373d" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="#f5f5f5" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="Criando sua primeira APP para Smart TVs (Parte 2)" property="og:title"/>
<meta content="Iai meu Polvo üêô como c√™s t√£o? Dando continuidade a nossa s√©rie da cria√ß√£o de uma app para Smart Tvs, hoje n√≥s iremos finalizar os testes e corrigir os bugs deixados no ultimo post." property="og:description"/>
<meta content="https://umdevqualquer.com.br/images/smart-tv-plex.jpg" property="og:image"/>
<meta content="https://umdevqualquer.com.br/criando-sua-primeira-app-para-smart-tvs-parte-2" property="og:url"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@paulofrauches" name="twitter:site"/>
<meta content="@paulofrauches" name="twitter:creator"/>
<meta content="Smart Tv from google" name="twitter:image:alt"/>
<link href="https://umdevqualquer.com.br/feeds/all.atom.xml" rel="alternate" title="Um dev qualquer || Paulo Oliveira - Atom Feed" type="application/atom+xml">
<link async="" href="https://umdevqualquer.com.br/theme/vendor/concisecss/dist/concise.min.css" rel="stylesheet">
<link href="https://umdevqualquer.com.br/theme/css/article.css" rel="stylesheet" type="text/css"/>
<script id="js-theme" type="text/javascript">
      const isDarkMode = window.localStorage.getItem('isDarkMode') !== 'false'
      const isSODarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
      if (window.localStorage.getItem('isDarkMode') === 'true' || (window.localStorage.getItem('isDarkMode') === null && isSODarkMode)) {
        const html = document.querySelector('html');
        if (html.classList.contains('theme--dark')) {
          html.classList.remove('theme--dark');
          html.classList.add('theme--light');
        } else {
          html.classList.remove('theme--light');
          html.classList.add('theme--dark');
        }
      }
    </script>
<script id="js-menu" type="text/javascript">
      function toggleMenu() {
        const menu = document.querySelector('.menu');
        const menuList = document.querySelector('.menu__list');
        const menuOverlay = document.querySelector('.menu__overlay');

        const menuOpenedClass = 'menu--opened';
        const menuOverlayActiveClass = 'menu__overlay--active';
        const menuListActiveClass = 'menu__list--active'

        if (menuList.classList.contains(menuListActiveClass)) {
          menuList.classList.remove(menuListActiveClass)
        } else {
          menuList.classList.add(menuListActiveClass)
        }

        if (menu.classList.contains(menuOpenedClass)) {
          menu.classList.remove(menuOpenedClass)
          menuOverlay.classList.remove(menuOverlayActiveClass)
        } else {
          menu.classList.add(menuOpenedClass)
          menuOverlay.classList.add(menuOverlayActiveClass)
        }

      }
      document.addEventListener('click', event => {
        if(event.target.classList.contains('menu__overlay')){
          toggleMenu()
        }
      })
    </script>
</link></link></head>
<body>
<a class="site__skip-content" href="#start-site" tabindex="0">Pular para o conte√∫do</a>
<header class="header_site" id="start-page">
<div class="header_site--wrapper">
<menu class="menu">
<button aria-label="Menu" class="menu--icon" onclick="toggleMenu()">
<svg aria-hidden="true" class="menu--icon-svg" viewbox="0 0 612 612" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
<path d="M604.267 194.727c4.257 0 7.733-3.644 7.733-7.733v-40.169c0-4.256-3.283-7.733-7.733-7.733H7.733c-4.256 0-7.733 3.644-7.733 7.733v40.169c0 4.256 3.283 7.733 7.733 7.733h596.534zM0 326.084c0 4.256 3.283 7.733 7.733 7.733h596.533c4.256 0 7.733-3.645 7.733-7.733v-40.169c0-4.284-3.283-7.733-7.733-7.733H7.733c-4.256 0-7.733 3.645-7.733 7.733v40.169zm0 139.091c0 4.256 3.283 7.733 7.733 7.733h596.533c4.256 0 7.733-3.645 7.733-7.733v-40.169c0-4.256-3.283-7.732-7.733-7.732H7.733c-4.256 0-7.733 3.644-7.733 7.732v40.169z"></path>
</svg>
</button>
<ul class="menu__list">
<li class="menu__list--item"><a href="https://umdevqualquer.com.br/">Home</a></li>
<li class="menu__list--item"><a href="https://umdevqualquer.com.br/author">Sobre Mim</a></li>
</ul>
<div class="menu__overlay"></div>
</menu>
<span class="header_site--title">
<a aria-label="Um dev qualquer. Paulo Oliveira. Ir para p√°gina inicial." class="header_site--title-link" href="https://umdevqualquer.com.br">
<span class="header_site--title-name">Um dev qualquer</span> Paulo Oliveira
        </a>
</span>
<button aria-label="Trocar tema" class="site__theme-button" type="button">
<svg viewbox="0 0 24 24">
<path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z"></path>
</svg>
</button>
</div>
</header>
<div class="wrapper_site" container="">
<div class="wrapper_site--content column_wrapper" id="start-site">
<section class="article_content" container="">
<article class="article_content-body">
<h1 class="article_content-title">Criando sua primeira APP para Smart TVs (Parte 2)  </h1><small> Tempo m√©dio de leitura: 11 minutos.</small>
<div class="article_content-content">
<figure class="article_cover">
<img loading="lazy" alt="Smart Tv from google" class="article_cover__img image-process-article_cover" sizes="(max-width: 768px) 30%, (max-width: 1280) 50%, (max-width: 1920px) 100%, " src="https://umdevqualquer.com.br/images/resized/article_cover/1280w/smart-tv-plex.jpg" srcset="https://umdevqualquer.com.br/images/resized/article_cover/768w/smart-tv-plex.jpg 768w, https://umdevqualquer.com.br/images/resized/article_cover/1280w/smart-tv-plex.jpg 1280w, https://umdevqualquer.com.br/images/resized/article_cover/1920w/smart-tv-plex.jpg 1920w"/>
<figcaption class="article_cover__credit">Cr√©ditos:
                                    Imagem retirada do <a href="https://www.popsci.com/resizer/lU2v75pLrtqZZV7TOZsVmhM7YbI=/1782x1336/filters:focal(600x450:601x451)/arc-anglerfish-arc2-prod-bonnier.s3.amazonaws.com/public/7SFVUBKE3F5G4N74QM7QJSGU4E.jpg" title="Tv com Plex">Google</a>
</figcaption>
</figure>
<p>Iai meu Polvo üêô como c√™s t√£o?</p>
<p>Dando continuidade a nossa s√©rie da cria√ß√£o de uma app para Smart Tvs, hoje n√≥s iremos finalizar os testes e corrigir os bugs deixados no ultimo post.</p>
<h2>Bug hunter:</h2>
<p><img loading="lazy" alt="Bug free" src="./images/criando-sua-primeira-app-para-smart-tvs-parte-2/131-bug-free.png"/>
<center><small>Fonte: <a class="external-link" href="https://www.monkeyuser.com/">MonkeyUser</a></small></center></p>
<p>Enquanto eu navegava pela app, notei uma falha na parte da navega√ß√£o, n√≥s estamos <strong>exibindo apenas</strong> items relacionados a "TV" mas n√£o estamos filtrando-os. Ent√£o ao chegar no final da lista, a navega√ß√£o "continua" mesmo sem ter item para navegar. E para corrigir vamos modificar o c√≥digo com:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// [...]</span>
    <span class="nx">response</span><span class="p">.</span><span class="nx">anime</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">element</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">'TV'</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">animes</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="c1">// [...]</span>
<span class="p">}</span>

<span class="nx">onKeyDown</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// [...]</span>
    <span class="k">case</span> <span class="mf">39</span><span class="o">:</span> <span class="c1">// right</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">activeItem</span> <span class="o">&lt;</span> <span class="nx">animes</span><span class="p">.</span><span class="nx">length</span>
          <span class="o">&amp;&amp;</span> <span class="nx">activeItem</span> <span class="o">+</span> <span class="mf">1</span> <span class="o">&lt;</span> <span class="nx">animes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">newActiveItem</span> <span class="o">+=</span> <span class="mf">1</span>
        <span class="p">}</span>
    <span class="k">break</span>
    <span class="k">case</span> <span class="mf">40</span><span class="o">:</span> <span class="c1">// down</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">activeItem</span> <span class="o">&lt;</span> <span class="nx">animes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">activeItem</span> <span class="o">+</span> <span class="mf">4</span> <span class="o">&gt;</span> <span class="nx">animes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newActiveItem</span> <span class="o">=</span> <span class="nx">animes</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mf">1</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">newActiveItem</span> <span class="o">+=</span> <span class="mf">4</span>
          <span class="p">}</span>
        <span class="p">}</span>
    <span class="k">break</span>

    <span class="c1">// [...]</span>
<span class="p">}</span>

<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">animes</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
    <span class="k">return</span> <span class="nx">animes</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">anime</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmpl</span><span class="p">(</span><span class="nx">anime</span><span class="p">,</span> <span class="nx">i</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<h2>Hora dos testes:</h2>
<p><img loading="lazy" alt="fixing unit test" src="./images/criando-sua-primeira-app-para-smart-tvs-parte-2/86-fixing-unit-tests.png"/>
<center><small>Fonte: <a class="external-link" href="https://www.monkeyuser.com/">MonkeyUser</a></small></center></p>
<p>Como eu apenas adicionei a suite de test, e n√£o realizei nenhum teste, est√° na hora de aumentar o nosso coverage! üòÑ
Para simplificar o post, eu vou deixar o <a class="external-link" href="https://github.com/paulopotter/my-first-smart-tv-app/blob/post-2/src/App.test.js">link do arquivo completo do teste</a> para voc√™s verem. Mas vou destacar o seguintes pontos:</p>
<p><strong>Coverage</strong></p>
<p>Agora j√° estamos com <strong>95%</strong> do componente testado ü§©</p>
<p><strong>babel</strong></p>
<p>Foi necess√°rio adicionar <code>@babel/plugin-transform-runtime</code> e com isso alterar o <code>.babelrc</code> para:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nt">"presets"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="s2">"@babel/preset-env"</span><span class="p">,</span>
        <span class="p">{</span>
          <span class="nt">"targets"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"esmodules"</span><span class="p">:</span> <span class="kc">true</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">"@babel/preset-react"</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p><strong>package</strong></p>
<p>Precisamos instalar o <em>nock</em> (<code>yarn add -D nock</code>), e atualizar o nosso <code>package.json</code> (de uma olhada no <a class="external-link" href="https://github.com/paulopotter/my-first-smart-tv-app/blob/post-2/package.json">arquivo</a>, pois houveram modifica√ß√µes nas vers√µes dos pacotes).</p>
<p><strong>Arquivo de mock</strong></p>
<p>Para poder testar sem ter que ficar batendo na api toda hora, eu criei uma pasta <code>__mock__</code> e adicionei um <a class="external-link" href="https://github.com/paulopotter/my-first-smart-tv-app/blob/post-2/src/__mock__/Animes.js">arquivo de mock</a> l√°.</p>
<p><strong>jest config</strong></p>
<p>Por causa do mock que precisamos fazer, temos que remover a pasta do <code>mock</code> do coverage:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>// linha: 30
 coveragePathIgnorePatterns: [
    "/node_modules/",
    "/__mock__/",
  ],
</code></pre></div>
</td></tr></table>
<h2>Melhorando a experi√™ncia:</h2>
<p>Agora que n√≥s possu√≠mos uma tela funcionando, precisamos melhorar minimamente a experi√™ncia da mesma. E para isso, temos que corrigir a navega√ß√£o vertical, visto que ao navegar para baixo, o scroll n√£o segue o foco.</p>
<p>Vamos atualizar o css, adicionando altura para as imagens e depois dando um tapa no visual.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nt">body</span> <span class="p">{</span>
  <span class="k">background-color</span><span class="p">:</span> <span class="mh">#0f0f0f</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#f1f1f1</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">720</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">wrapper</span> <span class="p">{</span>
  <span class="k">padding-top</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">poster-wrapper</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">inline-block</span><span class="p">;</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">390</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">vertical-align</span><span class="p">:</span> <span class="kc">bottom</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">310</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">poster-wrapper</span> <span class="nt">figure</span> <span class="p">{</span>
  <span class="k">position</span><span class="p">:</span> <span class="kc">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">poster-wrapper</span> <span class="nt">img</span> <span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">321</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">225</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">poster-wrapper--active</span> <span class="nt">img</span><span class="p">{</span>
  <span class="k">height</span><span class="p">:</span> <span class="mi">381</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">285</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">poster-wrapper</span> <span class="nt">span</span> <span class="p">{</span>
  <span class="k">background-color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.7</span><span class="p">);</span>
  <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
  <span class="k">font-size</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">min-height</span><span class="p">:</span> <span class="mi">15</span><span class="kt">%</span><span class="p">;</span>
  <span class="k">padding</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
  <span class="k">right</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">poster-wrapper--active</span> <span class="nt">span</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">inline</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>Agora vamos adicionar o efeito de scroll e para isso, precisamos de uma <code>div</code> envolvendo todo o conte√∫do al√©m de adicionar margin √† ela automaticamente utilizando o <code>state</code>.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="c1">// [...]</span>
      <span class="nx">wrapperStyle</span><span class="o">:</span> <span class="p">{</span> <span class="nx">marginTop</span><span class="o">:</span> <span class="mf">0</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// [...]</span>

<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span>
    <span class="nx">animes</span><span class="p">,</span>
    <span class="nx">wrapperStyle</span><span class="p">,</span>
  <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"wrapper"</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">wrapperStyle</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span>
        <span class="nx">animes</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">anime</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">tmpl</span><span class="p">(</span><span class="nx">anime</span><span class="p">,</span> <span class="nx">i</span><span class="p">))</span>
      <span class="p">}</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>Agora, para criarmos a anima√ß√£o, vamos adicionar o valor da altura dos itens (<code>390px</code>) ao <code>margin-top</code> da div <code>wrapper</code>. Ent√£o toda vez que apertarmos o bot√£o para baixo vamos subtrair esse valor e para cima vamos adicionar esse valor.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nx">animate</span><span class="p">(</span><span class="nx">keyCode</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">===</span> <span class="mf">40</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">prevState</span> <span class="p">=&gt;</span> <span class="p">({</span>
        <span class="nx">wrapperStyle</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">marginTop</span><span class="o">:</span> <span class="sb">`</span><span class="si">${</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">prevState</span><span class="p">.</span><span class="nx">wrapperStyle</span><span class="p">.</span><span class="nx">marginTop</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span> <span class="o">-</span> <span class="mf">390</span><span class="si">}</span><span class="sb">px`</span><span class="p">,</span>
        <span class="p">}</span>
      <span class="p">}))</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">===</span> <span class="mf">38</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">prevState</span> <span class="p">=&gt;</span> <span class="p">({</span>
        <span class="nx">wrapperStyle</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">marginTop</span><span class="o">:</span> <span class="sb">`</span><span class="si">${</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">prevState</span><span class="p">.</span><span class="nx">wrapperStyle</span><span class="p">.</span><span class="nx">marginTop</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span> <span class="o">+</span> <span class="mf">390</span><span class="si">}</span><span class="sb">px`</span><span class="p">,</span>
        <span class="p">}</span>
      <span class="p">}))</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>e no <code>onkeyDown</code> eu chamo o animate:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">// linha 57</span>
<span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="mf">40</span><span class="p">)</span>
<span class="c1">// linha 67</span>
<span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="mf">38</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<h2>√â isso a√≠!</h2>
<p><center>
<img loading="lazy" alt="Minha app" src="./images/como-e-o-desenvolvimento-para-smart-tvs-parte-2/minha-primeira-smart-tv-app-pt2.gif"/>
<br/><small>Nossa app funcionando</small>
</center></p>
<p>Ainda temos muita coisa para fazer por√©m, j√° temos o suficiente para testar na TV. No nosso pr√≥ximo post, desta s√©rie, eu ire mostrar como testar essa app numa Smart TV da LG.</p>
<p>Lembrando que eu estou fazendo o mais b√°sico de uma aplica√ß√£o, para poder demonstrar como √© funcionamento de uma app (web hosted) de smart tv. Coisas como organiza√ß√£o do projeto, layout e player n√£o est√£o sendo desenvolvidos, talvez em post futuros eu melhore a nossa app, mas voc√™ √© livre para modificar a app da melhor forma que voc√™ achar üòâ.</p>
<h2>Links uteis:</h2>
<p>Antes de finalizar eu gostaria de recomendar que voc√™s deem uma olhada nos links do blog do meu amigo <a class="external-link" href="https://kcsmad.wordpress.com/">Kevin Maduro (kcsmad)</a> que, alem de mostrar outro(s) (bons) ponto(s) de vista, complementam bem os posts sobre smart tv que eu estou fazendo.</p>
<ul>
<li><a class="external-link" href="https://kcsmad.wordpress.com/2020/02/29/desmistificando-o-mundo-das-smart-tvs/">Desmitificando o mundo das Smart Tvs</a></li>
<li><a class="external-link" href="https://kcsmad.wordpress.com/2020/03/01/principios-basicos-para-aplicacoes-de-smart-tvs/">Princ√≠pios b√°sicos para aplica√ß√µes de Smart Tv</a></li>
</ul>
<p>√â isso, n√£o se esque√ßam de comentar e compartilhar e <strong>at√© o nosso pr√≥ximo post!</strong></p>
</div>
<div class="article_content-series">
<p class="article_content-series--title">Este post √© a parte <b>2</b> da serie "<span class="article_content-series--name">Criando sua primeira APP para Smart TVs</span>"</p>
<ul class="article_content-series--parts">
<li>
<span>PARTE 1: </span>
<a href="https://umdevqualquer.com.br/criando-sua-primeira-app-para-smart-tvs.html">Criando sua primeira APP para Smart TVs</a>
</li>

<li>
<span>PARTE 2: </span>
<b>Criando sua primeira APP para Smart TVs (Parte 2)</b>
</li>

</ul></div>
<div class="article_content-related_post">
<h4 class="article_content-related_post--title">Veja tamb√©m:</h4>
<ul>
<li><a href="https://umdevqualquer.com.br/criando-sua-primeira-app-para-smart-tvs.html">Criando sua primeira APP para Smart TVs</a></li>
<li><a href="https://umdevqualquer.com.br/como-e-o-desenvolvimento-para-smart-tvs.html">Como √© o desenvolvimento para Smart TVs</a></li>
<li><a href="https://umdevqualquer.com.br/voce-ja-pensou-sobre-acessibilidade-a11y.html">Voc√™ j√° pensou sobre Acessibilidade (a11y)?</a></li>
<li><a href="https://umdevqualquer.com.br/braziljs-conf-minha-historia-com-a-maior-conferencia-js-do-mundo.html">BrazilJS Conf - Minha hist√≥ria com a maior confer√™ncia JS do mundo!</a></li>
<li><a href="https://umdevqualquer.com.br/screamer-js-um-plugin-js-de-notificacao-para-browser.html">Screamer-js - Um plugin js de notifica√ß√£o para Browser</a></li>
</ul>
</div>
</article>
</section>
<section class="article_comments" container="">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'umdevqualquer';
        var disqus_identifier = window.location.href;
        // var disqus_identifier = 'https://umdevqualquer.com.br/';
    var disqus_url = window.location.href;
    // var disqus_url = 'https://umdevqualquer.com.br/';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
</div>
</div>
<button aria-labelledby="button-back-to-top" class="site__back-to-top-button">
<svg viewbox="0 0 24 24">
<path d="M19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21M12,7L7,12H10V16H14V12H17L12,7Z"></path>
</svg>
<span class="site__back-to-top-button--text" id="button-back-to-top">Voltar para o topo</span>
</button>
<link async="" href="https://fonts.googleapis.com/css?family=Bitter|Montserrat:400,700" rel="stylesheet"/>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77202031-1', 'auto');
  ga('send', 'pageview');

</script>
<script id="js-theme-button">
  function toggleTheme(){
    const html = document.querySelector('html');
    const isDarkMode = html.classList.contains('theme--dark') || window.localStorage.getItem('isDarkMode') === 'true'
    if(isDarkMode){
      window.localStorage.setItem('isDarkMode', "false");
      html.classList.remove('theme--dark');
      html.classList.add('theme--light');
    } else {
      window.localStorage.setItem('isDarkMode', "true");
      html.classList.remove('theme--light');
      html.classList.add('theme--dark');
    }
  }
  function updateThemeButton() {
    const isDarkMode = window.localStorage.getItem('isDarkMode') === 'true'
    themeButton.ariaLabel = `Trocar para o tema ${isDarkMode ? 'claro': 'escuro'}`
  }

  const themeButton = document.querySelector('.site__theme-button');
  themeButton.classList.add('site__theme-button--has-js')
  themeButton.addEventListener('click', () => {
    toggleTheme()
    updateThemeButton()
  })
</script>
<script id="js-scroll-top">
  const scrollTopButton = document.querySelector('.site__back-to-top-button')
  scrollTopButton.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  })
  document.addEventListener('scroll', () => {
    if(window.scrollY > 100) {
      scrollTopButton.classList.add('site__back-to-top-button--show')
    } else {
      if(scrollTopButton.classList.contains('site__back-to-top-button--show')){
        scrollTopButton.classList.remove('site__back-to-top-button--show')
      }
    }
  })
</script>
</body></html>