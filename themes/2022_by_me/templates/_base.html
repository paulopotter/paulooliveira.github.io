<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}" class="theme--light">

  <head>
    <meta charset="utf-8" />
    <title>{% block title %}{{ SITE_BAR_TITLE }}{% endblock %} </title>
    <link rel="icon" href="./favicon.png" />
    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="preconnect" href="https://fonts.googleapis.com/">

    {% block meta %}
    <meta name="description" content="{{ SITEDESCRIPTION }}">
    <meta name="author" content="{{ AUTHOR }}">
    <meta name="robots" content="noimageindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#32373d">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f5f5f5">

    {% if not article %}
    <meta property="og:title" content="{{ SITE_BAR_TITLE }}">
    <meta property="og:description" content="{{ SITEDESCRIPTION }}">
    <meta property="og:image" content="https://www.gravatar.com/avatar/{{ HASH_GRAVATAR }}?s=720">
    <meta property="og:url" content="{{ SITEURL}}/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@paulofrauches">
    <meta name="twitter:creator" content="@paulofrauches">
    <meta name="twitter:image:alt" content="{{ SITE_BAR_TITLE }}">
    {% endif %}
    {% endblock %}

    {% if FEED_ALL_ATOM %}
    <link href="{{ FEED_DOMAIN }}/{{ FEED_ALL_ATOM }}" type="application/atom+xml" rel="alternate"
      title="{{ SITE_BAR_TITLE }} - Atom Feed" />
    {% endif %}

    {% block css_vendor_top%}
    <link href="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/vendor/concisecss/dist/concise.min.css" rel="stylesheet" async />
    {% endblock %}

    {% block css_top %}
    {% endblock css_top %}

    {% block js_top %}

    <script type="text/javascript" id="js-theme">
      const isDarkMode = window.localStorage.getItem('isDarkMode') !== 'false'
      const isSODarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
      if (window.localStorage.getItem('isDarkMode') === 'true' || (window.localStorage.getItem('isDarkMode') === null && isSODarkMode)) {
        const html = document.querySelector('html');
        if (html.classList.contains('theme--dark')) {
          html.classList.remove('theme--dark');
          html.classList.add('theme--light');
        } else {
          html.classList.remove('theme--light');
          html.classList.add('theme--dark');
        }
      }
    </script>

    <script type="text/javascript" id="js-menu">
      function toggleMenu() {
        const menu = document.querySelector('.menu');
        const menuList = document.querySelector('.menu__list');
        const menuOverlay = document.querySelector('.menu__overlay');

        const menuOpenedClass = 'menu--opened';
        const menuOverlayActiveClass = 'menu__overlay--active';
        const menuListActiveClass = 'menu__list--active'

        if (menuList.classList.contains(menuListActiveClass)) {
          menuList.classList.remove(menuListActiveClass)
        } else {
          menuList.classList.add(menuListActiveClass)
        }

        if (menu.classList.contains(menuOpenedClass)) {
          menu.classList.remove(menuOpenedClass)
          menuOverlay.classList.remove(menuOverlayActiveClass)
        } else {
          menu.classList.add(menuOpenedClass)
          menuOverlay.classList.add(menuOverlayActiveClass)
        }

      }
      document.addEventListener('click', event => {
        if(event.target.classList.contains('menu__overlay')){
          toggleMenu()
        }
      })
    </script>
    {% endblock %}
  </head>

  <body>
  <a class="site__skip-content" tabindex="0" href="#start-site">Pular para o conteúdo</a>
  <header class='header_site' id="start-page">
  <div class="header_site--wrapper">
      <menu class="menu">
        <button class="menu--icon" aria-label="Menu" onclick="toggleMenu()">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" class="menu--icon-svg"
            viewBox="0 0 612 612">
            <path
              d="M604.267 194.727c4.257 0 7.733-3.644 7.733-7.733v-40.169c0-4.256-3.283-7.733-7.733-7.733H7.733c-4.256 0-7.733 3.644-7.733 7.733v40.169c0 4.256 3.283 7.733 7.733 7.733h596.534zM0 326.084c0 4.256 3.283 7.733 7.733 7.733h596.533c4.256 0 7.733-3.645 7.733-7.733v-40.169c0-4.284-3.283-7.733-7.733-7.733H7.733c-4.256 0-7.733 3.645-7.733 7.733v40.169zm0 139.091c0 4.256 3.283 7.733 7.733 7.733h596.533c4.256 0 7.733-3.645 7.733-7.733v-40.169c0-4.256-3.283-7.732-7.733-7.732H7.733c-4.256 0-7.733 3.644-7.733 7.732v40.169z" />
          </svg>
        </button>
        <ul class="menu__list">
          {% for text, links in MENU_LINKS.items() %}
            <li class="menu__list--item"><a href="{{links}}">{{ text }}</a></li>
          {% endfor %}
        </ul>
        <div class="menu__overlay"></div>
      </menu>


      <span class="header_site--title">
        <a href="{{ SITEURL }}" class="header_site--title-link"
          aria-label="{{ SITENAME}}. {{ SITE_NAME_SUBTITLE}}. Ir para página inicial.">
          <span class="header_site--title-name">{{ SITENAME }}</span> {{ SITE_NAME_SUBTITLE }}
        </a>
      </span>

      <button class="site__theme-button" type="button" aria-label="Trocar tema">
        <svg viewBox="0 0 24 24">
          <path
            d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M9,21A1,1 0 0,0 10,22H14A1,1 0 0,0 15,21V20H9V21Z" />
        </svg>
      </button>
    </div>
  </header>

  <div class="wrapper_site" container>
    <div class="wrapper_site--content column_wrapper" id="start-site">
      {% block content %}
      {% endblock content %}
    </div>
  </div>

    {% extends './_footer.html' %}

  </body>

</html>
